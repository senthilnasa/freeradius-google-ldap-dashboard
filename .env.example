# =================================================================================
# FreeRADIUS LDAP Configuration Template
# =================================================================================
# Copy this file to .env and customize the values below for your environment.
# All configuration is now centralized in this single file.

# =================================================================================
# DOMAIN CONFIGURATION (JSON FORMAT)
# =================================================================================
# Configure domains with their respective types and VLAN assignments
# Format: [{"domain":"example.com","Type":"Category","VLAN":"ID"}]
# Types: Staff, Student, Other Center (or any custom classification)
# VLANs: Network VLAN IDs for segmentation (1-4094)
DOMAIN_CONFIG=[{"domain":"krea.edu.in","Type":"Staff","VLAN":"1"},{"domain":"krea.ac.in","Type":"Student","VLAN":"5"},{"domain":"ifmr.ac.in","Type":"Other Center","VLAN":"10"}]

# =================================================================================
# LDAP SERVER CONFIGURATION
# =================================================================================
# Primary LDAP server connection settings
LDAP_SERVER=ldap://your-ldap-server.com:389
LDAP_IDENTITY=uid=admin,ou=system
LDAP_PASSWORD=your-ldap-password
LDAP_BASE_DN=dc=example,dc=com

# LDAP search and authentication settings
LDAP_FILTER=(uid=%{%{Stripped-User-Name}:-%{User-Name}})
LDAP_BASE_FILTER=(objectclass=person)

# =================================================================================
# MYSQL DATABASE CONFIGURATION
# =================================================================================
# Database connection for RADIUS accounting and logging
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=your-strong-root-password
MYSQL_DATABASE=radius
MYSQL_USER=radius
MYSQL_PASSWORD=your-radius-db-password

# =================================================================================
# FREERADIUS SERVER CONFIGURATION
# =================================================================================
# Main FreeRADIUS server settings
RADIUS_DB_SERVER=mysql
RADIUS_DB_PORT=3306
RADIUS_DB_LOGIN=radius
RADIUS_DB_PASSWORD=your-radius-db-password
RADIUS_DB_DATABASE=radius

# Client authentication (NAS devices)
RADIUS_CLIENT_SHORTNAME=default
RADIUS_CLIENT_SECRET=your-radius-secret
RADIUS_CLIENT_NASTYPE=other
RADIUS_CLIENT_IPADDR=0.0.0.0/0

# =================================================================================
# EAP/TLS CONFIGURATION
# =================================================================================
# Certificate paths and TLS settings
EAP_PRIVATE_KEY_PASSWORD=your-private-key-password
EAP_PRIVATE_KEY_FILE=/etc/freeradius/3.0/certs/server.key
EAP_CERTIFICATE_FILE=/etc/freeradius/3.0/certs/server.pem
EAP_CA_FILE=/etc/freeradius/3.0/certs/ca.pem
EAP_DH_FILE=/etc/freeradius/3.0/certs/dh

# =================================================================================
# DASHBOARD CONFIGURATION (Optional)
# =================================================================================
# Web dashboard settings if using the web interface
DASHBOARD_DB_HOST=mysql
DASHBOARD_DB_PORT=3306
DASHBOARD_DB_USER=radius
DASHBOARD_DB_PASSWORD=your-radius-db-password
DASHBOARD_DB_NAME=radius

# Dashboard admin credentials
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
ADMIN_EMAIL=admin@example.com
ADMIN_SESSION_TIMEOUT=3600
FORCE_PASSWORD_CHANGE=true

# Dashboard security settings
JWT_SECRET=your-jwt-secret-key-min-32-characters-here
SESSION_COOKIE_SECURE=false
BCRYPT_ROUNDS=12

# =================================================================================
# LEGACY COMPATIBILITY VARIABLES
# =================================================================================
# These maintain compatibility with older configurations
# Modify only if you understand the impact on existing setups

# Domain-specific legacy settings
SUPPORTED_DOMAINS=krea.edu.in,krea.ac.in,ifmr.ac.in
DOMAIN_KREA_EDU_IN_TYPE=Staff
DOMAIN_KREA_EDU_IN_VLAN=1
DOMAIN_KREA_AC_IN_TYPE=Student  
DOMAIN_KREA_AC_IN_VLAN=5
DOMAIN_IFMR_AC_IN_TYPE=Other Center
DOMAIN_IFMR_AC_IN_VLAN=10

# Additional LDAP settings
LDAP_SCOPE=sub
LDAP_TLS_MODE=no
LDAP_START_TLS=no
LDAP_TLS_REQUIRE_CERT=never

# Server networking
FREERADIUS_PORT=1812
FREERADIUS_ACCOUNTING_PORT=1813

# =================================================================================
# DOCKER COMPOSE SETTINGS
# =================================================================================
# Container networking and service configuration
COMPOSE_PROJECT_NAME=freeradius-ldap
NETWORK_NAME=radius_net

# Service ports (external:internal)
MYSQL_EXTERNAL_PORT=3306
PHPMYADMIN_EXTERNAL_PORT=8080
DASHBOARD_EXTERNAL_PORT=80

# =================================================================================
# SECURITY NOTES
# =================================================================================
# 1. Change all default passwords before production deployment
# 2. Use strong, unique passwords for all database connections
# 3. Restrict RADIUS_CLIENT_IPADDR to specific network ranges in production
# 4. Enable TLS/SSL for LDAP connections in production environments
# 5. Store this file securely and never commit it to version control